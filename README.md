# Программа gentree

Программа принимает в качестве параметров командной строки:
1) Путь к входящему файлу в формате CSV (input.csv)
2) Путь для выгружаемого файла (output.json)

# Описание:
1) Файл input.csv - это пример файла который будет передан в программу. 
В нем находится дерево в табличном представлении. 
Связь ребенок-родитель между элементами осуществляется через колонки Item Name и Parent.
Колонка Item Name содержит уникальные имена элементов. 
Дерево имеет 3 типа элементов (см. колонку Type): 'Изделия и компоненты','Варианты комплектации','Прямые компоненты'.
2) Каждый элемент типа 'Прямые компоненты' имеет возможное продолжение через связь с элементом типа 
'Изделия и компоненты', эта связь указана в колонке 'Relation'. Необходимо построить продолжение дерева, присоединив к каждому элементу типа 'Прямые компоненты' ветку элемента типа 'Изделия и компоненты' используя эту связь.
В результате должно получится дерево представленное в прикрепленном к заданию output.json, которое необходимо сохранить на диск.
3) Тип элементов 'Варианты комплектации' не используется в генерации веток через колонку 'Relation', для них значение колонки Relation всегда пустое, но они присутствуют как элементы дерева при генерации связей через 'Прямые компоненты' и 'Изделия и компоненты' (пункт 2), далее в примере и в прикрепленном файле output.json можно это увидеть.

# Процесс решения задачи
Для решение данной задачи, было написанно два рекурсивных алгоритма по поиску детей и отношений. Поскольку отношения могут повторяться и использоваться в виде детей для разных родителей, был написан алгорим сохранения полного дерева одного отношения в отдбеном файле для сокращения времени.

# Сборка и запуск на Ubunutu
Первое что нужно сделать в случае, если нет ключевых инстурментов - это установить их

PHP
Из условия задачи, программа должна работать на PHP 7.1 поэтому нужно поставить именно такую версию
Ставим недостающий пакет
sudo apt-get install software-properties-common
 
Добавляем репозиторий в систему
sudo add-apt-repository ppa:ondrej/php
 
Обновляем список пакетов
sudo apt-get update

И ставим РНР7.1
sudo apt-get install -y php7.1

------------------

Далее нужно установить git, для клонирование репозитория

sudo apt install git

git clone https://github.com/Toxin4ick/gentree

------------------

Осталось только установить composer, для работы автозагрзчика классов
sudo apt install curl php-cli php-mbstring git unzip

curl -sS https://getcomposer.org/installer -o composer-setup.php

sudo php composer-setup.php --install-dir=/usr/local/bin --filename=composer

------------------

После установки должна появиться папка gentree. В неё нужно установить пакетный менеджер

composer install
Для запуска программы достаточно ввести команду
php "Путь_до_файла/"index.php
Далее программа попросит указать путь до csv файлы 
И путь для исходящего файла
